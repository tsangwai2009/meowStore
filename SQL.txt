
  CREATE TABLE "SYSTEM"."AUTHOR" 
   (	"AUTHOR_ID" NUMBER NOT NULL ENABLE, 
	"NAME" VARCHAR2(40 CHAR) NOT NULL ENABLE, 
	"EMAIL" VARCHAR2(60 CHAR), 
	"COUNTRY" VARCHAR2(40 CHAR) NOT NULL ENABLE, 
	 CONSTRAINT "AUTHOR_PK" PRIMARY KEY ("AUTHOR_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE INDEX "SYSTEM"."AUTHOR_NAME_IDX" ON "SYSTEM"."AUTHOR" ("NAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "SYSTEM"."AUTHOR_BIR" BEFORE
    INSERT ON author
    FOR EACH ROW
     WHEN ( new.author_id IS NULL ) BEGIN
    SELECT
        author_seq.NEXTVAL
    INTO :new.author_id
    FROM
        dual;

END;

/
ALTER TRIGGER "SYSTEM"."AUTHOR_BIR" ENABLE;


  CREATE TABLE "SYSTEM"."BOOK" 
   (	"BOOK_ID" NUMBER NOT NULL ENABLE, 
	"SUBJECT" VARCHAR2(40 CHAR) NOT NULL ENABLE, 
	"DESCRIPTION" VARCHAR2(80 CHAR) NOT NULL ENABLE, 
	"ISBN" VARCHAR2(20 CHAR) NOT NULL ENABLE, 
	"CONTENT" VARCHAR2(2000 CHAR) NOT NULL ENABLE, 
	"CONTENT_TYPE" VARCHAR2(10 CHAR) NOT NULL ENABLE, 
	"CREATE_DATE" DATE NOT NULL ENABLE, 
	"PRICE" NUMBER NOT NULL ENABLE, 
	"AUTHOR_ID" NUMBER NOT NULL ENABLE, 
	"PUBLISHER_ID" NUMBER NOT NULL ENABLE, 
	"CATEGORY_ID" NUMBER NOT NULL ENABLE, 
	 CONSTRAINT "BOOK_PK" PRIMARY KEY ("BOOK_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE, 
	 CONSTRAINT "BOOK_AUTHOR_FK" FOREIGN KEY ("AUTHOR_ID")
	  REFERENCES "SYSTEM"."AUTHOR" ("AUTHOR_ID") ENABLE, 
	 CONSTRAINT "BOOK_CATEGORY_FK" FOREIGN KEY ("CATEGORY_ID")
	  REFERENCES "SYSTEM"."CATEGORY" ("CATEGORY_ID") ENABLE, 
	 CONSTRAINT "BOOK_PUBLISHER_FK" FOREIGN KEY ("PUBLISHER_ID")
	  REFERENCES "SYSTEM"."PUBLISHER" ("PUBLISHER_ID") ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE UNIQUE INDEX "SYSTEM"."BOOK_ISBN_IDX" ON "SYSTEM"."BOOK" ("ISBN") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "SYSTEM"."BOOK_BIR" BEFORE
    INSERT ON book
    FOR EACH ROW
     WHEN ( new.book_id IS NULL ) BEGIN
    SELECT
        book_seq.NEXTVAL
    INTO :new.book_id
    FROM
        dual;

END;

/
ALTER TRIGGER "SYSTEM"."BOOK_BIR" ENABLE;


  CREATE TABLE "SYSTEM"."CASH_ACC_TRANSACTION" 
   (	"TRANSACTION_ID" NUMBER NOT NULL ENABLE, 
	"USER_ID" NUMBER NOT NULL ENABLE, 
	"AMOUNT" NUMBER NOT NULL ENABLE, 
	"REMARKS" VARCHAR2(60 CHAR), 
	"CREATED_DATE" DATE NOT NULL ENABLE, 
	 CONSTRAINT "CASH_ACC_TRANSACTION_PK" PRIMARY KEY ("TRANSACTION_ID")
  USING INDEX (CREATE UNIQUE INDEX "SYSTEM"."CASH_ACC_TRANSACTION_ID_IDX" ON "SYSTEM"."CASH_ACC_TRANSACTION" ("TRANSACTION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" )  ENABLE, 
	 CONSTRAINT "CASH_ACC_TRANSACTION_USER_FK" FOREIGN KEY ("USER_ID")
	  REFERENCES "SYSTEM"."USER_INFO" ("USER_ID") ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE INDEX "SYSTEM"."CASH_ACC_TRANSACTION_USER_IDX" ON "SYSTEM"."CASH_ACC_TRANSACTION" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "SYSTEM"."FKNTM_CASH_ACC_TRANSACTION" 
    BEFORE UPDATE OF user_id ON cash_acc_transaction 
BEGIN
    raise_application_error(-20225, 'Non Transferable FK constraint  on table CASH_ACC_TRANSACTION is violated');
END; 

/
ALTER TRIGGER "SYSTEM"."FKNTM_CASH_ACC_TRANSACTION" ENABLE;

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "SYSTEM"."CASH_ACC_TRANSACTION_BIR" BEFORE
    INSERT ON cash_acc_transaction
    FOR EACH ROW
     WHEN ( new.transaction_id IS NULL ) BEGIN
    SELECT
        cash_acc_transaction_seq.NEXTVAL
    INTO :new.transaction_id
    FROM
        dual;

END;

/
ALTER TRIGGER "SYSTEM"."CASH_ACC_TRANSACTION_BIR" ENABLE;


  CREATE TABLE "SYSTEM"."CATEGORY" 
   (	"CATEGORY_ID" NUMBER NOT NULL ENABLE, 
	"NAME" VARCHAR2(20 CHAR) NOT NULL ENABLE, 
	"DESCRIPTION" VARCHAR2(60 CHAR) NOT NULL ENABLE, 
	 CONSTRAINT "CATEGORY_PK" PRIMARY KEY ("CATEGORY_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE UNIQUE INDEX "SYSTEM"."CATEGORY_NAME_IDX" ON "SYSTEM"."CATEGORY" ("NAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "SYSTEM"."CATEGORY_BIR" BEFORE
    INSERT ON category
    FOR EACH ROW
     WHEN ( new.category_id IS NULL ) BEGIN
    SELECT
        category_seq.NEXTVAL
    INTO :new.category_id
    FROM
        dual;

END;

/
ALTER TRIGGER "SYSTEM"."CATEGORY_BIR" ENABLE;


  CREATE TABLE "SYSTEM"."CHEQUE" 
   (	"CHEQUE_ID" NUMBER NOT NULL ENABLE, 
	"USER_ID" NUMBER NOT NULL ENABLE, 
	"CONTRACT_ID" NUMBER NOT NULL ENABLE, 
	"CREATED_DATE" DATE NOT NULL ENABLE, 
	"AMOUNT" NUMBER NOT NULL ENABLE, 
	"STATUS" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	"APPROVED_DATE" DATE, 
	"APPROVED_BY" NUMBER, 
	 CONSTRAINT "CHEQUE_PK" PRIMARY KEY ("CHEQUE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE, 
	 CONSTRAINT "CHEQUE_CONTRACT_FK" FOREIGN KEY ("CONTRACT_ID")
	  REFERENCES "SYSTEM"."CONTRACT" ("CONTRACT_ID") ENABLE, 
	 CONSTRAINT "CHEQUE_MODERATOR_FK" FOREIGN KEY ("APPROVED_BY")
	  REFERENCES "SYSTEM"."MODERATOR" ("MODERATOR_ID") ENABLE, 
	 CONSTRAINT "CHEQUE_USER_FK" FOREIGN KEY ("USER_ID")
	  REFERENCES "SYSTEM"."USER_INFO" ("USER_ID") ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE INDEX "SYSTEM"."CHEQUE_CONTRACT_IDX" ON "SYSTEM"."CHEQUE" ("CONTRACT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "SYSTEM"."CHEQUE_BIR" BEFORE
    INSERT ON cheque
    FOR EACH ROW
     WHEN ( new.cheque_id IS NULL ) BEGIN
    SELECT
        cheque_seq.NEXTVAL
    INTO :new.cheque_id
    FROM
        dual;

END;

/
ALTER TRIGGER "SYSTEM"."CHEQUE_BIR" ENABLE;


  CREATE TABLE "SYSTEM"."CONTRACT" 
   (	"CONTRACT_ID" NUMBER NOT NULL ENABLE, 
	"USER_ID" NUMBER NOT NULL ENABLE, 
	"BOOK_ID" NUMBER NOT NULL ENABLE, 
	"CREATED_DATE" DATE NOT NULL ENABLE, 
	"UPDATED_DATE" DATE, 
	"VOIDED_DATE" DATE, 
	"STATUS" VARCHAR2(20 CHAR) NOT NULL ENABLE, 
	"APPROVED_BY" NUMBER, 
	"TRANSACTION_ID" NUMBER, 
	 CONSTRAINT "CONTRACT_PK" PRIMARY KEY ("CONTRACT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE, 
	 CONSTRAINT "CONTRACT_BOOK_FK" FOREIGN KEY ("BOOK_ID")
	  REFERENCES "SYSTEM"."BOOK" ("BOOK_ID") ENABLE, 
	 CONSTRAINT "CONTRACT_CASH_ACC_TRANS_FK" FOREIGN KEY ("TRANSACTION_ID")
	  REFERENCES "SYSTEM"."CASH_ACC_TRANSACTION" ("TRANSACTION_ID") ENABLE, 
	 CONSTRAINT "CONTRACT_MODERATOR_FK" FOREIGN KEY ("APPROVED_BY")
	  REFERENCES "SYSTEM"."MODERATOR" ("MODERATOR_ID") ENABLE, 
	 CONSTRAINT "CONTRACT_USER_FK" FOREIGN KEY ("USER_ID")
	  REFERENCES "SYSTEM"."USER_INFO" ("USER_ID") ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE INDEX "SYSTEM"."CONTRACT_USER_BOOK_IDX" ON "SYSTEM"."CONTRACT" ("USER_ID", "BOOK_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "SYSTEM"."CONTRACT_BIR" BEFORE
    INSERT ON contract
    FOR EACH ROW
     WHEN ( new.contract_id IS NULL ) BEGIN
    SELECT
        contract_seq.NEXTVAL
    INTO :new.contract_id
    FROM
        dual;

END;

/
ALTER TRIGGER "SYSTEM"."CONTRACT_BIR" ENABLE;


  CREATE TABLE "SYSTEM"."MODERATOR" 
   (	"MODERATOR_ID" NUMBER NOT NULL ENABLE, 
	"USERNAME" VARCHAR2(40 CHAR) NOT NULL ENABLE, 
	"PASSWORD" VARCHAR2(20 CHAR) NOT NULL ENABLE, 
	"ENABLE" VARCHAR2(10 CHAR) NOT NULL ENABLE, 
	"LAST_LOGIN_DATE" DATE, 
	 CONSTRAINT "MODERATOR_PK" PRIMARY KEY ("MODERATOR_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE UNIQUE INDEX "SYSTEM"."MODERATOR_USERNAME_IDX" ON "SYSTEM"."MODERATOR" ("USERNAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE UNIQUE INDEX "SYSTEM"."MODERATOR_USERNAME_PW_IDX" ON "SYSTEM"."MODERATOR" ("USERNAME", "PASSWORD") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "SYSTEM"."MODERATOR_BIR" BEFORE
    INSERT ON moderator
    FOR EACH ROW
     WHEN ( new.moderator_id IS NULL ) BEGIN
    SELECT
        moderator_seq.NEXTVAL
    INTO :new.moderator_id
    FROM
        dual;

END;

/
ALTER TRIGGER "SYSTEM"."MODERATOR_BIR" ENABLE;


  CREATE TABLE "SYSTEM"."PUBLISHER" 
   (	"PUBLISHER_ID" NUMBER NOT NULL ENABLE, 
	"NAME" VARCHAR2(40 CHAR) NOT NULL ENABLE, 
	"EMAIL" VARCHAR2(60 CHAR) NOT NULL ENABLE, 
	"ADDRESS" VARCHAR2(60 CHAR) NOT NULL ENABLE, 
	"TELEPHONE" VARCHAR2(20 CHAR) NOT NULL ENABLE, 
	"FAX" VARCHAR2(20 CHAR), 
	 CONSTRAINT "PUBLISHER_PK" PRIMARY KEY ("PUBLISHER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE INDEX "SYSTEM"."PUBLISHER_NAME_IDX" ON "SYSTEM"."PUBLISHER" ("NAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "SYSTEM"."PUBLISHER_BIR" BEFORE
    INSERT ON publisher
    FOR EACH ROW
     WHEN ( new.publisher_id IS NULL ) BEGIN
    SELECT
        publisher_seq.NEXTVAL
    INTO :new.publisher_id
    FROM
        dual;

END;

/
ALTER TRIGGER "SYSTEM"."PUBLISHER_BIR" ENABLE;


  CREATE TABLE "SYSTEM"."SHELF" 
   (	"SHELF_ID" NUMBER NOT NULL ENABLE, 
	"BOOK_ID" NUMBER NOT NULL ENABLE, 
	"USER_ID" NUMBER NOT NULL ENABLE, 
	"LAST_ACCESS_DATE" DATE, 
	"NUMBER_OF_ACCESSES" NUMBER NOT NULL ENABLE, 
	 CONSTRAINT "SHELF_PK" PRIMARY KEY ("SHELF_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE, 
	 CONSTRAINT "SHELF_BOOK_FK" FOREIGN KEY ("BOOK_ID")
	  REFERENCES "SYSTEM"."BOOK" ("BOOK_ID") ENABLE, 
	 CONSTRAINT "SHELF_USER_FK" FOREIGN KEY ("USER_ID")
	  REFERENCES "SYSTEM"."USER_INFO" ("USER_ID") ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE UNIQUE INDEX "SYSTEM"."SHELF_USER_BOOK_IDX" ON "SYSTEM"."SHELF" ("USER_ID", "BOOK_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "SYSTEM"."SHELF_BIR" BEFORE
    INSERT ON shelf
    FOR EACH ROW
     WHEN ( new.shelf_id IS NULL ) BEGIN
    SELECT
        shelf_seq.NEXTVAL
    INTO :new.shelf_id
    FROM
        dual;

END;

/
ALTER TRIGGER "SYSTEM"."SHELF_BIR" ENABLE;


  CREATE TABLE "SYSTEM"."USER_INFO" 
   (	"USER_ID" NUMBER NOT NULL ENABLE, 
	"USERNAME" VARCHAR2(40 CHAR) NOT NULL ENABLE, 
	"PASSWORD" VARCHAR2(20 CHAR) NOT NULL ENABLE, 
	"NAME" VARCHAR2(40 CHAR) NOT NULL ENABLE, 
	"EMAIL" VARCHAR2(60 CHAR) NOT NULL ENABLE, 
	"TELEPHONE" VARCHAR2(20 CHAR) NOT NULL ENABLE, 
	"MOBILE" VARCHAR2(20 CHAR) NOT NULL ENABLE, 
	"ADDRESS" VARCHAR2(60 CHAR) NOT NULL ENABLE, 
	"STATUS" VARCHAR2(20 CHAR) NOT NULL ENABLE, 
	"CREATED_DATE" DATE NOT NULL ENABLE, 
	"UPDATED_DATE" DATE, 
	"APPROVED_DATE" DATE, 
	"APPROVED_BY" NUMBER, 
	"NUMBER_OF_RETRIES" NUMBER NOT NULL ENABLE, 
	"LAST_LOGIN_DATE" DATE, 
	"ROLE" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	 CONSTRAINT "USER_PK" PRIMARY KEY ("USER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM"  ENABLE, 
	 CONSTRAINT "USER_MODERATOR_FK" FOREIGN KEY ("APPROVED_BY")
	  REFERENCES "SYSTEM"."MODERATOR" ("MODERATOR_ID") ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE UNIQUE INDEX "SYSTEM"."USER_USERNAME_IDX" ON "SYSTEM"."USER_INFO" ("USERNAME") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE UNIQUE INDEX "SYSTEM"."USER_USERNAME_PW_IDX" ON "SYSTEM"."USER_INFO" ("USERNAME", "PASSWORD") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "SYSTEM" ;

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "SYSTEM"."USER_BIR" BEFORE
    INSERT ON "USER_INFO"
    FOR EACH ROW
     WHEN ( new.user_id IS NULL ) BEGIN
    SELECT
        user_seq.NEXTVAL
    INTO :new.user_id
    FROM
        dual;

END;

/
ALTER TRIGGER "SYSTEM"."USER_BIR" ENABLE;